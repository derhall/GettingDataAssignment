version
View(features)
featuresSplit <- strsplit(features$Variable, "-")
View(featuresSplit)
read.table("./UCI HAR Dataset/test/subject_test.txt")
test_subjects <- read.table("./UCI HAR Dataset/test/subject_test.txt")
str(test_subjects)
2947 / 561
View(test_subjects)
length(test_subjects$V1 == 2)
length(test_subjects$V1)
length(test_subjects$V1 == 2)
test_subjects$V1 == 2
length(test_subjects$V1 == 2)
table(test_subjects$V1 == 2)
read.table("./UCI HAR Dataset/test/X_test.txt", sep = " ")[1, 1]
read.table("./UCI HAR Dataset/test/X_test.txt")[1, 1]
test <- read.table("./UCI HAR Dataset/test/X_test.txt")
test_labels <- read.table("./UCI HAR Dataset/test/y_test.txt")
View(test_labels)
table(test_labels)
tail(test_subjects,2)
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt")
test_labels <- read.table("./UCI HAR Dataset/test/y_test.txt")
test_subjects <- read.table("./UCI HAR Dataset/test/subject_test.txt")
rm(test)
train_data <- read.table("./UCI HAR Dataset/train/X_test.txt")
train_data <- read.table("./UCI HAR Dataset/train/X_train.txt")
train_labels <- read.table("./UCI HAR Dataset/train/y_train.txt")
train_subjects <- read.table("./UCI HAR Dataset/train/subject_train.txt")
table(test_subjects)
table(train_subjects)
table(test_labels)
table(train_labels)
table(test_labels$V1[1:302])
table(test_labels$V1[1:303])
tail(test_labels$V1[1:304])
View(test_data)
View(features)
View(features)
View(train_data)
View(train_labels)
View(train_subjects)
rm(c(test_data, train_data))
rm(c("test_data", "train_data"))
rm(test_data)
lapply(c(train_data, train_labels, train_subjects), rm)
lapply(train_data, train_labels, train_subjects, rm)
rm(train_data)
rm(train_labels, train_subjects)
rm(test_labels, test_subjects)
View(features)
View(featuresSplit)
?read.table
View(features)
features <- read.table("./UCI HAR Dataset/features.txt", colClasses(NULL, NA))
features <- read.table("./UCI HAR Dataset/features.txt", colClasses = c(NULL, NA))
View(features)
features <- read.table("./UCI HAR Dataset/features.txt", colClasses = c(NULL, NULL, NA))
View(features)
features <- read.table("./UCI HAR Dataset/features.txt", col.names = c("row", "variable"))
View(features)
?grep
index <- grep(c("mean()", "std()"), features$variable)
length(index)
View(features)
tail(index)
features$variable[tail(index)]
index_mean <- grep(c("mean()", features$variable)
index_mean <- grep("mean()", features$variable)
index_mean <- grep("mean()|std()", features$variable, fixed = TRUE)
index_mean <- grep("mean()", features$variable, fixed = TRUE)
index_std <- grep("std()", features$variable, fixed = TRUE)
index <- c(order(index_mean, index_std))
?order
index <- order(c(index_mean, index_std))
class(index_mean)
index <- sort(c(index_mean, index_std))
index_mean <- grep("mean()\|std()", features$variable, fixed = TRUE)
index_mean <- grep("mean()|std()", features$variable, fixed = TRUE)
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt")
sindex <- rep(NULL, length(features$variable))
sindex <- rep(NA, length(features$variable))
sindex[2] <- NULL
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt", colClasses = c(NA, rep("Null", 560)))
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt", colClasses = c(NA, rep(paste("NULL"), 560)))
View(test_data)
sindex[2] <- paste("NULL")
ind <- paste("NA", "NULL")
ind <- c("NA", "NULL")
ind <- c("NA", rep("NULL", 560))
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt", colClasses = paste(ind))
ind <- c(NA, rep("NULL", 560))
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt", colClasses = paste(ind))
ind <- c("NA", rep("NULL", 560))
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt", colClasses = paste(ind))
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt", colClasses = c(NA, rep(paste("NULL"), 560)))
ind <- c(NA, rep(paste("NULL"), 560))
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt", colClasses = ind)
index[!findex] <- "NULL"
findex <- sort(c(index_mean, index_std))
index <- rep(NA, length(features$variable))
index[!findex] <- "NULL"
index_mean <- grep("mean()", features$variable, fixed = TRUE)
index_std <- grep("std()", features$variable, fixed = TRUE)
findex <- sort(c(index_mean, index_std))
index <- rep(NA, length(features$variable))
index[!findex] <- "NULL"
!findex
findex
index <- rep("NULL", length(features$variable))
index[findex] <- NA
index
View(index)
View(findex)
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt", colClasses = index)
View(test_data)
?cbind
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt",
colClasses = index)
test_labels <- read.table("./UCI HAR Dataset/test/y_test.txt")
test_subjects <- read.table("./UCI HAR Dataset/test/subject_test.txt")
View(test_labels)
View(test_subjects)
View(test_data)
test <- cbind(test_labels, test_subjects, test_data)
colnames(test) <- c("activity", "subject", features$variable[findex])
View(test)
colnames(test) <- c("activity", "subjectid", features$variable[findex])
train_data <- read.table("./UCI HAR Dataset/train/X_train.txt",
colClasses = index)
train_labels <- read.table("./UCI HAR Dataset/train/y_train.txt")
train_subjects <- read.table("./UCI HAR Dataset/train/subject_train.txt")
train <- cbind(train_labels, train_subjects, train_data)
colnames(train) <- c("activity", "subjectid", features$variable[findex])
View(train)
test_ds_label <- rep("test", ncol(test))
test_ds_label <- rep("test", nrow(test))
test_ds_label <- rep("test", nrow(test_data))
test <- cbind(test_labels, test_subjects, test_ds_label, test_data)
colnames(test) <- c("activity", "subjectid", "dataset", features$variable[findex])
colnames(train) <- c("activity", "subjectid", "dataset", features$variable[findex])
train_ds_label <- rep("train", nrow(train_data))
train <- cbind(train_labels, train_subjects, train_ds_label, train_data)
colnames(train) <- c("activity", "subjectid", "dataset", features$variable[findex])
mergedata <- rbind(train, test)
View(mergedata)
mergedata$dataset <- as.factor(mergedata$dataset)
str(mergedata)
View(mergedata)
read.table("./UCI HAR Dataset/activity_labels.txt")
activity_labels <- read.table("./UCI HAR Dataset/activity_labels.txt")
V1 <- 1:6
v1
V1
for(i in 1:6) {
ind <- V1 == i
V1[ind] <- activity_labels$V2[i]
}
V1
activity_labels$V2 <- tolower(activity_labels$V2)
View(activity_labels)
for(i in 1:6) {
ind <- mergedata$activity == i
mergedata$activity[ind] <- activity_labels$V2[i]
}
View(mergedata)
features <-  read.table("./UCI HAR Dataset/features.txt",
col.names = c("row", "variable"))
### Create the numerical index
index_mean <- grep("mean()", features$variable, fixed = TRUE)
index_std <- grep("std()", features$variable, fixed = TRUE)
findex <- sort(c(index_mean, index_std))
### Create a NA, NULL index based on the numerical index
### that can be passed to colClasses in read.table
index <- rep("NULL", length(features$variable))
index[findex] <- NA
## Read in the test dataset subsetted on the index
test_data <- read.table("./UCI HAR Dataset/test/X_test.txt",
colClasses = index)
test_labels <- read.table("./UCI HAR Dataset/test/y_test.txt")
test_subjects <- read.table("./UCI HAR Dataset/test/subject_test.txt")
test_ds_label <- rep("test", nrow(test_data))
test <- cbind(test_subjects, test_ds_label,test_labels, test_data)
colnames(test) <- c("subjectid", "dataset", "activity", features$variable[findex])
## Read in the training dataset subsetted on the index
train_data <- read.table("./UCI HAR Dataset/train/X_train.txt",
colClasses = index)
train_labels <- read.table("./UCI HAR Dataset/train/y_train.txt")
train_subjects <- read.table("./UCI HAR Dataset/train/subject_train.txt")
train_ds_label <- rep("train", nrow(train_data))
train <- cbind(train_subjects, train_ds_label, train_labels, train_data)
colnames(train) <- c("subjectid", "dataset", "activity", features$variable[findex])
## Merge the two datasets
mergedata <- rbind(train, test)
## Inital tidying of the merged dataset
mergedata$dataset <- as.factor(mergedata$dataset)
activity_labels <- read.table("./UCI HAR Dataset/activity_labels.txt")
activity_labels$V2 <- tolower(activity_labels$V2)
for(i in 1:6) {
ind <- mergedata$activity == i
mergedata$activity[ind] <- activity_labels$V2[i]
}
View(mergedata)
View(mergedata)
mergedata$activity <- as.factor(mergedata$activity)
str(mergedata)
?write.table
write.table(mergedata, file = "./output/mergedata.txt")
getwd()
if (!file.exists("./output")) {
dir.create("./output")
}
write.table(mergedata, file = "./output/mergedata.txt")
if (!file.exists("./output")) {
dir.create("./output")
}
write.table(mergedata, file = "./output/mergedata.txt")
